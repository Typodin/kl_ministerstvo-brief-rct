@use "../global" as *;

.gallery-filter {
	display: flex;
	gap: 10px;
	flex-wrap: wrap;
	margin-bottom: 10px;
	.btn.active {
		background-color: $theme-1;
		span {
			color: $white;
		}
	}
}

.gallery {
	display: grid;
	gap: 10px;
	grid-template-columns: repeat(2, 1fr);
	@include breakpoint(s) {
		grid-template-columns: repeat(3, 1fr);
	}
	&-item {
		line-height: 1;
		display: flex;
		background-color: $grey-1;
		position: relative;
		height: 140px;
		@include breakpoint(t) {
			height: 180px;
		}
		@include breakpoint(m) {
			height: 240px;
		}
		@include breakpoint(l) {
			height: 282px;
		}
		&::before {
			content: "";
			position: absolute;
			top: 50%;
			left: 50%;
			width: 48px;
			height: 48px;
			border-radius: 50%;
			border: 4px solid rgba(255, 255, 255, 0.5);
			border-top-color: $grey-4;
			animation: spingal 0.8s linear infinite;
			transform: translate(-50%, -50%);
			z-index: 1;
			transition: opacity 0.3s ease-out, visibility 0.3s ease-out;
		}
		&:has(.loaded) + &::before {
			opacity: 0;
			visibility: hidden;
			display: none;
		}
		img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			object-position: top;
			display: block;
			border-radius: 3px;
			position: relative;
			z-index: 2;
			transition-duration: .3s;
		}
		&:hover {
			cursor: zoom-in;
			img {
				opacity: .9;
			}
		}
	}
	&-video {
		&:after {
			content: "";
			position: absolute;
			width: 64px;
			height: 64px;
			background: transparent url("../images/ico/play-w.svg") center no-repeat;
			background-size: contain;
			z-index: 20;
			opacity: .7;
			@include abs-center;
		}
		&:hover:after {
			opacity: 1;
		}
	}
}

@keyframes spingal {
	to {
		transform: translate(-50%, -50%) rotate(360deg);
	}
}